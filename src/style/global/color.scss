@use "sass:math";

@mixin color($name, $l, $c: 0) {
  --#{$name}: oklch(#{$l * 100%} #{$c} 260);
  @for $i from 0 through 4 {
    $cl: $l * math.pow(1 - math.pow(2, -$i), math.div(1, math.pow($l, 2)));
    --#{$name}-#{$i + 1}: oklch(#{$cl * 100%} 0 260);
  }
}

@mixin theme-light {
  @for $i from 0 through 4 {
    @include color(surface-#{$i+1}, math.pow(2, math.pow($i, 2) * math.pow(2, -6) * -1));
  }
  @include color(accent-1, 0);
  @include color(accent-2, 0.25);
}

@mixin theme-dark {
}

.theme-light,
:root {
  @include theme-light;
}

.theme-dark {
  @include theme-dark;
}

@media (prefers-color-scheme: dark) {
  :root {
    @include theme-dark;
  }
}
